#! /bin/sh 


set -e

case "$1" in
    install|upgrade)
	# creating px group if he isn't already there
	if ! getent group px >/dev/null; then
        	# Adding system group: px.
        	addgroup --system px >/dev/null
	fi

	# creating px user if he isn't already there
	if ! getent passwd px >/dev/null; then
        	# Adding system user: px.
                . /etc/adduser.conf
        	adduser --system --ingroup px --gecos "PX user" --shell ${DSHELL} px  >/dev/null
	fi
	PXHOME=`getent passwd px | cut -d: -f6`
    ;;

    abort-upgrade)
    ;;

    *)
        echo "preinst called with unknown argument \`$1'" >&2
        exit 1
    ;;
esac


# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0


